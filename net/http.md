# 网络分层
1. OSI 模型： 应用层、会话层、表示层、传输层、网络层、数据链路层、物理层
2. TCP/IP 模型： 应用层、传输层、网络层、数据链路层、物理层


# http 相关知识点

1. http协议是无状态、灵活 、无连接，存在于应用层
2. 状态码分类
    1. 1xx  表示处理中的中间状态，需要后面进一步操作
    2. 2xx  成功
    3. 3xx  重定向
        1. 301 永久重定向
        2. 302 临时重定向
        3. 304 缓存重定向
    4. 4xx 客户端请求错误
        1. 400 笼统的客户端错误
        2. 401 请求凭证不对
        3. 403 服务器禁止访问资源
        4. 404 请求的资源未找到
        5. 405 请求方式不对
    5. 5xx 服务端错误
        1. 501 表示服务器不支持该请求方法 
        2. 505 表示服务器不支持该http 版本 

3. 缓存机制
   1. 流程：浏览器请求资源,判断是否有缓存信息，如果没有就请求服务器，如果有，就先判断是否明中强缓存，如果命中就获取缓存信息,若是没有，就请求服务器判断是否命中协商缓存，命中则就获取，没有命中就服务器传输资源

4. 强缓存 (请求响应头)
   1. Cache-control 
   2. Expires 缺点： 服务器时间和浏览器时间会不一致
   3. 上述两者同时存在，就以Cache=control为准

5. 协商缓存 (请求响应头)
    1. Last-Modified If-Modified-Since 表示资源修改时间 缺点是精度不够，只能到秒
    2. Etag 和 If-None-Match 资源内容标识优先级高，

6. 三次握手
   1. 目的:是为了保证双方信息发送和接受的能力
   2. 过程
      1. 浏览器发送一个 SYN seq num = client_isn
      2. Server 发送一个 SYN+ACK ,然后再 client_isn + 1，再补充一个 server_isn
      3. Client 发送一个 ACK 和 server_isn + 1 ,这一步可以传输数据

7. 四次挥手
   1. Client 发送一个FIN 为 1的报文，此时 Client 进入 FIN_WAIT_1
   2. Server 发送一个 ACK 报文， Server 进入 CLOSE_WAIT 状态，当客户端收到ACK 报文之后，变为 FIN_WAIT_2
   3. 服务端处理完数据之后， Server  发送一个 FIN 报文，服务端进入LAST_ACK 状态
   4. 客户端收到服务端的 FIN 报文后， 回一个 ACK 应答报文，之后进入 TIME_WAIT 状态，服务端进入 CLOSED 状态
   5.  <b>关闭连接时，客户端向服务端发送 FIN 时，仅仅表示客户端不再发送数据了但是还能接收数据。服务器收到客户端的 FIN 报文时，先回⼀个 ACK 应答报⽂，⽽服务端可能还有数据需要处理和发送，等服务端不再发送数据时，才发送 FIN 报⽂给客户端来表示同意现在关闭连接</b>

8. MSL
    > MSL 的意思是 <b>报文最大生存时间</b>

9. TTL
    > 报可以经过的最⼤路由数，每经过⼀个处理他的路由器此值就减 1，当此值为 0 则数据报将被丢弃  

10. 二者区别：MSL 的单位是时间，⽽ TTL 是经过路由跳数。所以 MSL 应该要⼤于等于 TTL 消耗为 0 的时间，以确保报⽂已被⾃然消亡 

11. 客户端为什么要等待2MSL
    > ⽹络中可能存在来⾃发送⽅的数据包，当这些发送⽅的数据包被接收⽅处理后⼜会向对⽅发送响应，所以⼀来⼀回需要等待 2 倍的时间。


12. 7 ~ 11 来自于 [小林Coding](https://xiaolincoding.com/)

13. 跨域
    1. 什么是跨域————当一个请求url的协议、域名、端口三者之间的任意一个与当前页面url不同即为跨域。
    2. 解决办法：nginx  jsonp  CORS
   

